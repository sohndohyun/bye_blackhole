{"ast":null,"code":"import _classCallCheck from\"/home/sayi/ft/base/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/sayi/ft/base/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _get from\"/home/sayi/ft/base/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/get\";import _getPrototypeOf from\"/home/sayi/ft/base/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/sayi/ft/base/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/sayi/ft/base/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import GameObject from'./GameObject';import socket from'./PongSocket';var Ball=/*#__PURE__*/function(_GameObject){_inherits(Ball,_GameObject);var _super=_createSuper(Ball);function Ball(game,width,height,x,y){var _this;_classCallCheck(this,Ball);_this=_super.call(this,game,width,height,x,y);_this.speed=void 0;_this.originX=void 0;_this.originY=void 0;_this.oldX=void 0;_this.oldY=void 0;_this.dirX=void 0;_this.dirY=void 0;_this.coll=void 0;_this.pa=void 0;_this.originX=_this.game.width/2-10;_this.originY=_this.game.height/2-10;_this.oldX=_this.originX;_this.oldY=_this.originY;_this.x=_this.originX;_this.y=_this.originY;_this.dirX=0;_this.dirY=0;_this.speed=0;_this.coll=false;_this.pa=false;return _this;}_createClass(Ball,[{key:\"start\",value:function start(bs,dx,dy){this.speed=bs;this.dirX=dx;this.dirY=dy;this.x=this.originX;this.y=this.originY;this.oldX=this.x;this.oldY=this.y;}},{key:\"onUpdate\",value:function onUpdate(e){this.x=e.x;this.y=e.y;this.dirX=e.dirX;this.dirY=e.dirY;this.speed=e.speed;this.pa=false;}},{key:\"paused\",value:function paused(){this.x=this.originX;this.y=this.originY;this.oldX=this.x;this.oldY=this.y;this.speed=0;}},{key:\"onCollision\",value:function onCollision(){this.coll=true;}},{key:\"update\",value:function update(dt){_get(_getPrototypeOf(Ball.prototype),\"update\",this).call(this,dt);this.oldX=this.x;this.oldY=this.y;this.x+=this.dirX*this.speed*dt;this.y+=this.dirY*this.speed*dt;if(this.game.pos===0){if(this.x+this.width<0){this.paused();this.game.onScoredR();}else if(this.x>this.game.width){this.paused();this.game.onScoredL();}if(this.coll===true&&!this.pa){this.pa=true;}socket.emit('Update',{x:this.x,y:this.y,dirX:this.dirX,dirY:this.dirY,speed:this.speed});this.coll=false;}}}]);return Ball;}(GameObject);export default Ball;","map":{"version":3,"sources":["/home/sayi/ft/base/client/src/Pong/Ball.tsx"],"names":["GameObject","socket","Ball","game","width","height","x","y","speed","originX","originY","oldX","oldY","dirX","dirY","coll","pa","bs","dx","dy","e","dt","pos","paused","onScoredR","onScoredL","emit"],"mappings":"8zBACA,MAAOA,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,C,GAEMC,CAAAA,I,8FAYJ,cAAYC,IAAZ,CAAuBC,KAAvB,CAAsCC,MAAtC,CAAsDC,CAAtD,CAAiEC,CAAjE,CAA4E,sCAC1E,uBAAMJ,IAAN,CAAYC,KAAZ,CAAmBC,MAAnB,CAA2BC,CAA3B,CAA8BC,CAA9B,EAD0E,MAX5EC,KAW4E,cAV5EC,OAU4E,cAT5EC,OAS4E,cAP5EC,IAO4E,cAN5EC,IAM4E,cAL5EC,IAK4E,cAJ5EC,IAI4E,cAF5EC,IAE4E,cAD5EC,EAC4E,QAG1E,MAAKP,OAAL,CAAe,MAAKN,IAAL,CAAUC,KAAV,CAAkB,CAAlB,CAAsB,EAArC,CACA,MAAKM,OAAL,CAAe,MAAKP,IAAL,CAAUE,MAAV,CAAmB,CAAnB,CAAuB,EAAtC,CACA,MAAKM,IAAL,CAAY,MAAKF,OAAjB,CACA,MAAKG,IAAL,CAAY,MAAKF,OAAjB,CACA,MAAKJ,CAAL,CAAS,MAAKG,OAAd,CACA,MAAKF,CAAL,CAAS,MAAKG,OAAd,CACA,MAAKG,IAAL,CAAY,CAAZ,CACA,MAAKC,IAAL,CAAY,CAAZ,CACA,MAAKN,KAAL,CAAa,CAAb,CACA,MAAKO,IAAL,CAAY,KAAZ,CACA,MAAKC,EAAL,CAAU,KAAV,CAb0E,aAc3E,C,sCAED,eAAMC,EAAN,CAAkBC,EAAlB,CAA8BC,EAA9B,CAA0C,CACxC,KAAKX,KAAL,CAAaS,EAAb,CACA,KAAKJ,IAAL,CAAYK,EAAZ,CACA,KAAKJ,IAAL,CAAYK,EAAZ,CACA,KAAKb,CAAL,CAAS,KAAKG,OAAd,CACA,KAAKF,CAAL,CAAS,KAAKG,OAAd,CACA,KAAKC,IAAL,CAAY,KAAKL,CAAjB,CACA,KAAKM,IAAL,CAAY,KAAKL,CAAjB,CACD,C,wBAED,kBAASa,CAAT,CAAoB,CAClB,KAAKd,CAAL,CAASc,CAAC,CAACd,CAAX,CACA,KAAKC,CAAL,CAASa,CAAC,CAACb,CAAX,CACA,KAAKM,IAAL,CAAYO,CAAC,CAACP,IAAd,CACA,KAAKC,IAAL,CAAYM,CAAC,CAACN,IAAd,CACA,KAAKN,KAAL,CAAaY,CAAC,CAACZ,KAAf,CAEA,KAAKQ,EAAL,CAAU,KAAV,CACD,C,sBAED,iBAAS,CACP,KAAKV,CAAL,CAAS,KAAKG,OAAd,CACA,KAAKF,CAAL,CAAS,KAAKG,OAAd,CACA,KAAKC,IAAL,CAAY,KAAKL,CAAjB,CACA,KAAKM,IAAL,CAAY,KAAKL,CAAjB,CACA,KAAKC,KAAL,CAAa,CAAb,CACD,C,2BAED,sBAAc,CACZ,KAAKO,IAAL,CAAY,IAAZ,CACD,C,sBAED,gBAAOM,EAAP,CAAmB,CACjB,8DAAaA,EAAb,EAEA,KAAKV,IAAL,CAAY,KAAKL,CAAjB,CACA,KAAKM,IAAL,CAAY,KAAKL,CAAjB,CACA,KAAKD,CAAL,EAAU,KAAKO,IAAL,CAAY,KAAKL,KAAjB,CAAyBa,EAAnC,CACA,KAAKd,CAAL,EAAU,KAAKO,IAAL,CAAY,KAAKN,KAAjB,CAAyBa,EAAnC,CAEA,GAAI,KAAKlB,IAAL,CAAUmB,GAAV,GAAkB,CAAtB,CAAyB,CACvB,GAAI,KAAKhB,CAAL,CAAS,KAAKF,KAAd,CAAsB,CAA1B,CAA6B,CAC3B,KAAKmB,MAAL,GACA,KAAKpB,IAAL,CAAUqB,SAAV,GACD,CAHD,IAGO,IAAI,KAAKlB,CAAL,CAAS,KAAKH,IAAL,CAAUC,KAAvB,CAA8B,CACnC,KAAKmB,MAAL,GACA,KAAKpB,IAAL,CAAUsB,SAAV,GACD,CAED,GAAI,KAAKV,IAAL,GAAc,IAAd,EAAsB,CAAC,KAAKC,EAAhC,CAAoC,CAClC,KAAKA,EAAL,CAAU,IAAV,CACD,CACDf,MAAM,CAACyB,IAAP,CAAY,QAAZ,CAAsB,CACpBpB,CAAC,CAAE,KAAKA,CADY,CAEpBC,CAAC,CAAE,KAAKA,CAFY,CAGpBM,IAAI,CAAE,KAAKA,IAHS,CAIpBC,IAAI,CAAE,KAAKA,IAJS,CAKpBN,KAAK,CAAE,KAAKA,KALQ,CAAtB,EAQA,KAAKO,IAAL,CAAY,KAAZ,CACD,CACF,C,kBA1FgBf,U,EA6FnB,cAAeE,CAAAA,IAAf","sourcesContent":["import { Update } from './Game';\nimport GameObject from './GameObject';\nimport socket from './PongSocket';\n\nclass Ball extends GameObject {\n  speed: number;\n  originX: number;\n  originY: number;\n\n  oldX: number;\n  oldY: number;\n  dirX: number;\n  dirY: number;\n\n  coll: boolean;\n  pa: boolean;\n  constructor(game: any, width: number, height: number, x: number, y: number) {\n    super(game, width, height, x, y);\n\n    this.originX = this.game.width / 2 - 10;\n    this.originY = this.game.height / 2 - 10;\n    this.oldX = this.originX;\n    this.oldY = this.originY;\n    this.x = this.originX;\n    this.y = this.originY;\n    this.dirX = 0;\n    this.dirY = 0;\n    this.speed = 0;\n    this.coll = false;\n    this.pa = false;\n  }\n\n  start(bs: number, dx: number, dy: number) {\n    this.speed = bs;\n    this.dirX = dx;\n    this.dirY = dy;\n    this.x = this.originX;\n    this.y = this.originY;\n    this.oldX = this.x;\n    this.oldY = this.y;\n  }\n\n  onUpdate(e: Update) {\n    this.x = e.x;\n    this.y = e.y;\n    this.dirX = e.dirX;\n    this.dirY = e.dirY;\n    this.speed = e.speed;\n\n    this.pa = false;\n  }\n\n  paused() {\n    this.x = this.originX;\n    this.y = this.originY;\n    this.oldX = this.x;\n    this.oldY = this.y;\n    this.speed = 0;\n  }\n\n  onCollision() {\n    this.coll = true;\n  }\n\n  update(dt: number) {\n    super.update(dt);\n\n    this.oldX = this.x;\n    this.oldY = this.y;\n    this.x += this.dirX * this.speed * dt;\n    this.y += this.dirY * this.speed * dt;\n\n    if (this.game.pos === 0) {\n      if (this.x + this.width < 0) {\n        this.paused();\n        this.game.onScoredR();\n      } else if (this.x > this.game.width) {\n        this.paused();\n        this.game.onScoredL();\n      }\n\n      if (this.coll === true && !this.pa) {\n        this.pa = true;\n      }\n      socket.emit('Update', {\n        x: this.x,\n        y: this.y,\n        dirX: this.dirX,\n        dirY: this.dirY,\n        speed: this.speed,\n      });\n\n      this.coll = false;\n    }\n  }\n}\n\nexport default Ball;\n"]},"metadata":{},"sourceType":"module"}