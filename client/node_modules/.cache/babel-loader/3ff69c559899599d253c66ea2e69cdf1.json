{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jinkim/bye_blackhole/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jinkim/bye_blackhole/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/jinkim/bye_blackhole/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useCallback}from'react';import axios from\"axios\";import\"./styles/Modal.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PwdCheckModal=function PwdCheckModal(props){var open=props.open,close=props.close,chatRoomID=props.chatRoomID,MyID=props.MyID;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),PWD=_useState2[0],setPWD=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),WorngPWD=_useState4[0],setWrongPWD=_useState4[1];var handelPWD=useCallback(function(e){setPWD(e.target.value);},[]);function confirmPWD(){return _confirmPWD.apply(this,arguments);}function _confirmPWD(){_confirmPWD=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:axios.post('/Lobby/enter/'+chatRoomID,{id:MyID,password:PWD}).then(function(res){document.location.href='/Chat';sessionStorage.setItem('roomName',chatRoomID);}).catch(function(err){setWrongPWD(true);});case 1:case\"end\":return _context.stop();}}},_callee);}));return _confirmPWD.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{className:open?'openModal Modal':'Modal',children:open?/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsxs(\"header\",{children:[\"Enter Password\",/*#__PURE__*/_jsx(\"button\",{className:\"close\",onClick:function onClick(){close();setWrongPWD(false);},children:\" \\xD7 \"})]}),/*#__PURE__*/_jsxs(\"main\",{children:[\"password: \",/*#__PURE__*/_jsx(\"input\",{onChange:handelPWD}),WorngPWD?/*#__PURE__*/_jsx(\"label\",{className:\"error\",children:\"\\uD2C0\\uB9B0 \\uBE44\\uBC00\\uBC88\\uD638\\uC785\\uB2C8\\uB2E4.\"}):null]}),/*#__PURE__*/_jsx(\"footer\",{children:/*#__PURE__*/_jsx(\"a\",{className:\"btn btn-primary\",onClick:confirmPWD,children:/*#__PURE__*/_jsx(\"b\",{children:\"Enter\"})})})]}):null});};export default PwdCheckModal;","map":{"version":3,"sources":["/Users/jinkim/bye_blackhole/client/src/Lobby/PwdCheckModal.tsx"],"names":["React","useState","useCallback","axios","PwdCheckModal","props","open","close","chatRoomID","MyID","PWD","setPWD","WorngPWD","setWrongPWD","handelPWD","e","target","value","confirmPWD","post","id","password","then","res","document","location","href","sessionStorage","setItem","catch","err"],"mappings":"wcAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,WAAzB,KAAsD,OAAtD,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,qBAAP,C,wFAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAEC,KAAF,CAAkB,IAC/BC,CAAAA,IAD+B,CACED,KADF,CAC/BC,IAD+B,CACzBC,KADyB,CACEF,KADF,CACzBE,KADyB,CAClBC,UADkB,CACEH,KADF,CAClBG,UADkB,CACNC,IADM,CACEJ,KADF,CACNI,IADM,eAGjBR,QAAQ,CAAC,EAAD,CAHS,wCAGhCS,GAHgC,eAG3BC,MAH2B,8BAIPV,QAAQ,CAAC,KAAD,CAJD,yCAIhCW,QAJgC,eAItBC,WAJsB,eAMvC,GAAMC,CAAAA,SAAS,CAAGZ,WAAW,CAAC,SAACa,CAAD,CAAW,CACxCJ,MAAM,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAN,CACA,CAF4B,CAE1B,EAF0B,CAA7B,CANuC,QAUxBC,CAAAA,UAVwB,wIAUvC,mIACCf,KAAK,CAACgB,IAAN,CAAW,gBAAkBX,UAA7B,CAAyC,CAACY,EAAE,CAACX,IAAJ,CAAUY,QAAQ,CAACX,GAAnB,CAAzC,EACCY,IADD,CACM,SAACC,GAAD,CAAS,CACdC,QAAQ,CAACC,QAAT,CAAkBC,IAAlB,CAAyB,OAAzB,CACAC,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAAmCpB,UAAnC,EACA,CAJD,EAKCqB,KALD,CAKO,SAACC,GAAD,CAAS,CACfjB,WAAW,CAAC,IAAD,CAAX,CACA,CAPD,EADD,sDAVuC,6CAqBvC,mBACC,YAAK,SAAS,CAAGP,IAAI,CAAG,iBAAH,CAAuB,OAA5C,UACGA,IAAI,cACL,wCACC,wDAEC,eAAQ,SAAS,CAAC,OAAlB,CAA0B,OAAO,CAAE,kBAAM,CACxCC,KAAK,GACLM,WAAW,CAAC,KAAD,CAAX,CACA,CAHD,oBAFD,GADD,cAQC,kDACW,cAAO,QAAQ,CAAEC,SAAjB,EADX,CAEEF,QAAQ,cAAG,cAAO,SAAS,CAAC,OAAjB,sEAAH,CAAkD,IAF5D,GARD,cAYC,qCACC,UAAG,SAAS,CAAC,iBAAb,CAA+B,OAAO,CAAEM,UAAxC,uBAAoD,4BAApD,EADD,EAZD,GADK,CAiBF,IAlBL,EADD,CAsBA,CA3CD,CA6CA,cAAed,CAAAA,aAAf","sourcesContent":["import React, {useState, useCallback, useEffect} from 'react';\nimport axios from \"axios\";\nimport \"./styles/Modal.scss\";\n\nconst PwdCheckModal = ( props: any ) => {\n\tconst { open, close, chatRoomID, MyID} = props;\n\n\tconst [PWD, setPWD] = useState(\"\");\n\tconst [WorngPWD, setWrongPWD] = useState(false)\n\n\tconst handelPWD = useCallback((e:any) => {\n\t\tsetPWD(e.target.value)\n\t}, []);\n\n\tasync function confirmPWD(){\n\t\taxios.post('/Lobby/enter/' + chatRoomID, {id:MyID, password:PWD})\n\t\t.then((res) => {\n\t\t\tdocument.location.href = '/Chat';\n\t\t\tsessionStorage.setItem('roomName', chatRoomID)\n\t\t})\n\t\t.catch((err) => {\n\t\t\tsetWrongPWD(true)\n\t\t})\n\t}\n\n\treturn (\n\t\t<div className={ open ? 'openModal Modal' : 'Modal' }>\n\t\t\t{ open ? (\n\t\t\t\t<section>\n\t\t\t\t\t<header>\n\t\t\t\t\t\tEnter Password\n\t\t\t\t\t\t<button className=\"close\" onClick={() => {\n\t\t\t\t\t\t\tclose()\n\t\t\t\t\t\t\tsetWrongPWD(false)\n\t\t\t\t\t\t}}> &times; </button>\n\t\t\t\t\t</header>\n\t\t\t\t\t<main>\n\t\t\t\t\t\tpassword: <input onChange={handelPWD}></input>\n\t\t\t\t\t\t{WorngPWD ? <label className=\"error\">틀린 비밀번호입니다.</label> : null}\n\t\t\t\t\t</main>\n\t\t\t\t\t<footer>\n\t\t\t\t\t\t<a className=\"btn btn-primary\" onClick={confirmPWD}><b>Enter</b></a>\n\t\t\t\t\t</footer>\n\t\t\t\t</section>\n\t\t\t) : null }\n\t\t</div>\n\t)\n}\n\nexport default PwdCheckModal"]},"metadata":{},"sourceType":"module"}